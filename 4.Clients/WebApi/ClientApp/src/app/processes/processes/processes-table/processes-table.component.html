<div nz-row>
  <div nz-col nzSpan="24">
    <!--<nz-table #processTable [(nzData)]="listOfDisplayData" [nzPageSize]="10" nzShowSizeChanger>-->
    <nz-table  [nzPageSize]="10" nzShowSizeChanger>
        <thead class="tableHead">
          <tr>
            <th nzCustomFilter>
              Candidate

              <nz-dropdown nzTrigger="click" nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter #dropdown>
                <i nz-icon nzType="search" class="ant-table-filter-icon" [class.ant-table-filter-open]="dropdown.nzVisible" nz-dropdown></i>
                <div class="search-box">
                  <input type="text" nz-input placeholder="Search name" [(ngModel)]="searchValue" (keyup.enter)="search()">
                  <button nz-button nzSize="small" nzType="primary" (click)="search()" class="search-button">Search</button>
                  <button nz-button nzSize="small" (click)="reset()">Reset</button>
                </div>
              </nz-dropdown>
            </th>

            <th>
              Profile
              <nz-dropdown [nzPlacement]="'bottomCenter'" style="margin-left: 30px;">
                <button nz-button nz-dropdown style="border: none"><i style="font-size: 25px" nz-icon type="filter" theme="outline"></i></button>
                <ul nz-menu>
                  <li nz-menu-item (click)="searchProfile(0)">
                    <label>ALL</label>
                  </li>
                  <li nz-menu-item *ngFor="let profile of profiles" #profileId (click)="emitProfileId(profile.id)">
                    <label>{{profile.name}}</label>
                  </li>
                  <!--<li nz-menu-item *ngFor="let profile of profiles" #profileId [bzData]="profile.id" (click)="searchProfile(profile.id)">
                    <label>{{profile.name}}</label>
                  </li>-->
                </ul>
              </nz-dropdown>
            </th>
            <th nzCustomFilter>
              Community
              <nz-dropdown [nzPlacement]="'bottomCenter'" style="margin-left: 30px;">
                <button nz-button nz-dropdown style="border: none"><i style="font-size: 25px" nz-icon type="filter" theme="outline"></i></button>
                <ul nz-menu>
                  <li nz-menu-item (click)="searchCommunity(0)">
                    <label>ALL</label>
                  </li>
                  <li nz-menu-item *ngFor="let community of communities" (click)="searchCommunity(community.id)">
                    <label>{{community.name}}</label>
                  </li>
                </ul>
              </nz-dropdown>
          
            </th>
            <th nzCustomFilter>
              Status
              <nz-dropdown nzTrigger="click" nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter #dropdownStatus>
                <i nz-icon nzType="search" class="ant-table-filter-icon" [class.ant-table-filter-open]="dropdownStatus.nzVisible" nz-dropdown></i>
                <div class="search-box">
                  <nz-select placeholder="Search status" [(ngModel)]="searchValueStatus" style="width: 100%; margin-bottom: 2%;">
                    <nz-option *ngFor="let status of statusList" nzLabel="{{status.name}}" [nzValue]="status.id">
                    </nz-option>
                  </nz-select>
                  <br />
                  <button nz-button nzSize="small" nzType="primary" (click)="searchStatus()" class="search-button">Search</button>
                  <button nz-button nzSize="small" (click)="resetStatus()">Reset</button>
                </div>
              </nz-dropdown>
            </th>
            <th nzCustomFilter>
              Current Stage
              <nz-dropdown nzTrigger="click" nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter #currentStageDropdown>
                <i nz-icon nzType="search" class="ant-table-filter-icon" [class.ant-table-filter-open]="currentStageDropdown.nzVisible" nz-dropdown></i>
                <div class="search-box">
                  <nz-select placeholder="Search stage" [(ngModel)]="searchValueCurrentStage" style="width: 100%; margin-bottom: 2%;">
                    <nz-option *ngFor="let cs of currentStageList" nzLabel="{{cs.name}}" [nzValue]="cs.id">
                    </nz-option>
                  </nz-select>
                  <br />
                  <button nz-button nzSize="small" nzType="primary" (click)="searchCurrentStage()" class="search-button">Search</button>
                  <button nz-button nzSize="small" (click)="resetCurrentStage()">Reset</button>
                </div>
              </nz-dropdown>
            </th>
            <th [style.text-align]="center" nzCustomFilter>
              Recruiter
              <nz-dropdown nzTrigger="click" nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter #dropdown>
                <i nz-icon nzType="search" class="ant-table-filter-icon" [class.ant-table-filter-open]="dropdown.nzVisible" nz-dropdown></i>
                <div class="search-box">
                  <input type="text" nz-input placeholder="Search name" [(ngModel)]="searchRecruiterValue" (keyup.enter)="searchRecruiter()">
                  <button nz-button nzSize="small" nzType="primary" (click)="searchRecruiter()" class="search-button">Search</button>
                  <button nz-button nzSize="small" (click)="resetRecruiter()">Reset</button>
                </div>
              </nz-dropdown>
            </th>
            <th [style.text-align]="center">Actions</th>
          </tr>
        </thead>


        <tbody>
         
        
          <tr *ngFor="let process of listOfDisplayData">
      <td scope="row">
        <a *ngIf="process.candidate" class="nameStyle" (click)="emitCandidateId(process.candidate.id)">
          {{ process.candidate.name }} {{ process.candidate.lastName }}
        </a>

      </td>
      <td scope="row">

        {{ process.candidate.profile.name }}
      </td>
      <td scope="row">


      {{ process.candidate.community.name }}
      </td>
      <td scope="row">
        <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
        {{ statusList[process.candidate.status].name }}
      </td>
      <td scope="row">
        <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
        {{ currentStageList[process.currentStage].name }}
      </td>
      <td scope="row">
        <a *ngIf="process.candidate.recruiter" class="nameStyle" (click)="showConsultantDetailsModal(process.consultantOwner.id, consultantDetailModal)">
          {{ process.candidate.recruiter.name }}
          {{ process.candidate.recruiter.lastName }}
        </a>
      </td>

      <td [style.text-align]="center">

        <i nzTitle="Edit" (click)="showProcessStart(processStart, startModalButtons, process.id)" style="cursor: pointer;" nz-tooltip nz-icon type="edit" theme="outline"></i>
        <nz-divider nzType="vertical"></nz-divider>
        <i nzTitle="Delete" (click)="showDeleteConfirm(process.id)" style="cursor: pointer;" nz-tooltip nz-icon type="delete" theme="outline"></i>

        <nz-divider nzType="vertical" *ngIf="process && (process.status != 2 && process.status != 3  )">
        </nz-divider>
        <i nzTitle="Approve Process" style="cursor: pointer;" nz-tooltip *ngIf="process && (process.status != 2 && process.status != 3  )" nz-icon nzType="check-circle" nzTheme="outline" (click)="showApproveProcessConfirm(process.id)"></i>
        <nz-divider nzType="vertical"></nz-divider>
        <i nzTitle="Reject process" nzPlacement="topLeft" nz-tooltip style="cursor: pointer;" *ngIf="process && process.status != 4" nz-icon nzType="close" nzTheme="outline" (click)="rejectProcess(process.id, rejectProcessModal, rejectConfirmButtons)"></i>
      </td>
    </tr>
  </tbody>
</nz-table>
</div>
</div>
