<form nz-form [formGroup]="positionForm" [nzLayout]="'horizontal'" class="recru-container">
    <div class="recru-row">
        <nz-form-item class="recru-col-2 ">
            <nz-form-control [nzErrorTip]="TitleError">
                <input *recruInput="'Title'" type="text" nz-input formControlName="title" id="title">
                <ng-template #TitleError>
                    <ng-container *ngIf="positionForm.get('title').dirty && positionForm.get('title').errors">
                        <ng-container *ngIf="positionForm.get('title')?.hasError('required')">
                            Please input the title
                        </ng-container>
                        <ng-container *ngIf="positionForm.get('title')?.hasError('maxlength')">
                            The maximum length is 50
                        </ng-container>
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item class="recru-col-2 ">
            <nz-form-control [nzErrorTip]="CommunityError">
                <nz-select *recruInput="'Community'" formControlName="community">
                    <nz-option *ngFor="let c of communities" nzLabel="{{c.name}}" [nzValue]="c.id">
                    </nz-option>
                </nz-select>
                <ng-template #CommunityError>
                    <ng-container *ngIf="positionForm.get('community').dirty && positionForm.get('community').errors">
                        Please input the community
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
    </div>

    <div class="recru-row">
        <nz-form-item class="recru-col-2 ">
            <nz-form-control [nzErrorTip]="SeniorityError">
                <nz-select #seniority *recruInput="'Seniority'" formControlName="seniority">
                    <nz-option *ngFor="let seniority of seniorityList | slice: 1" nzLabel="{{seniority.name}}"
                        [nzValue]="seniority.id"></nz-option>
                </nz-select>
                <ng-template #SeniorityError>
                    <ng-container *ngIf="positionForm.get('seniority').dirty && positionForm.get('seniority').errors">
                        Please input the seniority
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item class="recru-col-2 ">
            <nz-form-control [nzErrorTip]="StudioError">
                <nz-select #studio *recruInput="'Studio'" formControlName="studio">
                    <nz-option *ngFor="let s of studios" nzLabel="{{s.name}}" [nzValue]="s.name">
                    </nz-option>
                </nz-select>
                <ng-template #StudioError>
                    <ng-container *ngIf="positionForm.get('studio').dirty && positionForm.get('studio').errors">
                        Please input the studio
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
    </div>

    <div class="recru-row">
        <nz-form-item class="recru-col-2 ">
            <nz-form-control>
                <div class="flex-container">
                    <nz-select *recruInput="'HOT'" formControlName="priority">
                        <nz-option nzLabel="NO" [nzValue]="false"></nz-option>
                        <nz-option nzLabel="YES" [nzValue]="true"></nz-option>
                    </nz-select>
                </div>
            </nz-form-control>
        </nz-form-item>
    </div>

    <div class="recru-row">
        <nz-form-item>
            <nz-form-control [nzErrorTip]="jobDescriptionErrorMsg">
                <app-text-editor *recruInput="'Job description'" id="openPositionTextEditor"
                    [setContent]="jobDescriptionContent" (getContent)="getJobDescriptionContent($event)"
                    [isToolbarActive]="true" [isEditable]="true">
                </app-text-editor>
                <ng-template #jobDescriptionErrorMsg>
                    <ng-container
                        *ngIf="positionForm.get('jobDescription').dirty && positionForm.get('jobDescription').errors">
                        <ng-container *ngIf="positionForm.get('jobDescription')?.hasError('required')">
                            Please input the job description
                        </ng-container>
                        <ng-container *ngIf="positionForm.get('jobDescription')?.hasError('maxlength')">
                            The maximum length is 1000
                        </ng-container>
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
    </div>
</form>

<div nz-row nzJustify="center">
    <div nz-col nzSpan="24">
        <nz-divider class="custom-divider"></nz-divider>
        <div class="recru-control-buttons__wrapper">
            <button nz-button nzType="default" class="recru-button-secondary"
                (click)="clearDataAndCloseModal()">Cancel</button>
            <button nz-button nzType="primary" class="recru-button-primary" [hidden]="isEditPosition"
                (click)="createNewPosition('new')">
                Save
            </button>
            <button nz-button nzType="primary" class="recru-button-primary" [hidden]="!isEditPosition"
                (click)="createNewPosition('edit')">
                Edit
            </button>
        </div>
    </div>
</div>