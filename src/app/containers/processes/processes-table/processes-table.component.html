<div nz-row>
  <div nz-col nzSpan="24">
    <nz-table #processTable nzTableLayout="fixed" [nzData]="listOfDisplayData" [nzPageSize]="10" nzShowSizeChanger>
      <thead class="tableHead">
        <tr>
          <th *ngFor="let column of listOfColumns; trackBy: trackByName"
          [nzFilters]="column.listOfFilter"
          [nzFilterFn]="column.filterFn"
          class="tableHead">
            {{ column.name }}
          </th>
        </tr>
      </thead>

      <tbody>
        <ng-container *ngIf="filterParameters.length === 0; else processesAfterFilter">
          <tr *ngFor="let process of processTable.data">
            <td scope="row">
              <a *ngIf="process.candidate" class="nameStyle" (click)="emitCandidateId(process.candidate.id)">
                {{ process.candidate.name }} {{ process.candidate.lastName }}
              </a>
            </td>
            <td scope="row">
              {{ getProfileName(process.candidate.profile?.id) }}
            </td>
            <td scope="row">
              {{ getCommunityName(process.candidate.community.id) }}
            </td>
            <td scope="row" >
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getStatus(process.status) }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getCurrentStage(process.currentStage) }}
            </td>
            <td scope="row">
              <a class="nameStyle" (click)="emitUserId(process.userOwner.id)">
                {{ process.userOwner?.firstName }}
                {{ process.userOwner?.lastName }}
              </a>
            </td>
            <td scope="row">
              {{  getSeniority(process.seniority) }}
            </td>
            <td *ngIf="process.status !== 9">
              <i nzTooltipTitle="Edit" (click)="emitEdit(process.id)" style="cursor: pointer;" nz-tooltip nz-icon nzType="edit"
                theme="outline"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTooltipTitle="Delete" (click)="emitDelete(process)" style="cursor: pointer;" nz-tooltip nz-icon
                nzType="delete" theme="outline"></i>
              <nz-divider nzType="vertical" *ngIf="process && (process.status != 2 && process.status != 3  )">
              </nz-divider>
              <i nzTooltipTitle="Approve Process" style="cursor: pointer;" nz-tooltip
                *ngIf="process && (process.status != 2 && process.status != 3  )" nz-icon nzType="check-circle"
                nzTheme="outline" (click)="emitApproval(process)"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTooltipTitle="Reject process" nzTooltipContent="topLeft" nz-tooltip style="cursor: pointer;"
                *ngIf="process && process.status != 4" nz-icon nzType="close" nzTheme="outline"
                (click)="emitReject(process)"></i>
            </td>
            <td *ngIf="process.status === 9">
            <i nzTooltipTitle="Reactivate process" nzTooltipContent="topLeft" nz-tooltip style="cursor: pointer;"
             nz-icon nzType="redo" nzTheme="outline"
            (click)="emitReactivate(process.id)"></i>
          </td>

          </tr>



        </ng-container>
        <ng-template #processesAfterFilter>
          <tr *ngFor="let process of listOfDisplayDataAfterFilter[listOfDisplayDataAfterFilter.length - 1]">
            <td scope="row">
              <a *ngIf="process.candidate" class="nameStyle" (click)="emitCandidateId(process.candidate.id)">
                {{ process.candidate.name }} {{ process.candidate.lastName }}
              </a>
            </td>
<<<<<<< HEAD
            <td scope="row">
              {{ getCommunityName(process.candidate.community.id) }}
=======
            <td scope="row" *ngIf="process.candidate.profile === null">
              N/A
            </td>
            <td scope="row" *ngIf="process.candidate.profile !== null">
              {{ process.candidate.profile.name }}
>>>>>>> develop
            </td>
            <td scope="row">
              {{ getProfileName(process.candidate.profile?.id) }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getStatus(process.status) }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getCurrentStage(process.currentStage) }}
            </td>
            <td scope="row">
              <a *ngIf="process.candidate.user" class="nameStyle" (click)="emitUserId(process.userOwner.id)">
                {{ process.userOwner?.firstName }}
                {{ process.userOwner?.lastName }}
              </a>
            </td>
            <td scope="row">
              {{  getSeniority(process.seniority) }}
            </td>
            <td>
              <i nzTitle="Edit" (click)="emitEdit(process.id)" style="cursor: pointer;" nz-tooltip nz-icon nzType="edit"
                theme="outline"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTitle="Delete" (click)="emitDelete(process.id)" style="cursor: pointer;" nz-tooltip nz-icon
                nzType="delete" theme="outline"></i>
              <nz-divider nzType="vertical" *ngIf="process && (process.status != 2 && process.status != 3  )">
              </nz-divider>
              <i nzTitle="Approve Process" style="cursor: pointer;" nz-tooltip
                *ngIf="process && (process.status != 2 && process.status != 3  )" nz-icon nzType="check-circle"
                nzTheme="outline" (click)="emitApproval(process)"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTitle="Reject process" nzTooltipContent="topLeft" nz-tooltip style="cursor: pointer;"
                *ngIf="process && process.status != 4" nz-icon nzType="close" nzTheme="outline"
                (click)="emitReject(process)"></i>
            </td>

          </tr>



        </ng-template>
      </tbody>
    </nz-table>
  </div>
</div>