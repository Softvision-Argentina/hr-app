<!-- <div nz-row nzJustify="start">
  <div nz-col nzSpan="2">
    <div class="clearFilters">
      <button nz-button (click)="resetFilters()">Clear filters</button>
    </div>
  </div>
</div> -->
<div nz-row>
  <div nz-col nzSpan="24">
    <nz-table #processTable nzTableLayout="fixed" [nzData]="listOfDisplayData" [nzPageSize]="10" nzShowSizeChanger>
      <thead class="tableHead">
        <tr>
          <th *ngFor="let column of listOfColumns; trackBy: trackByName"
          [nzFilters]="column.listOfFilter"
          [nzFilterFn]="column.filterFn"
          class="tableHead">
            {{ column.name }}
          </th>
        </tr>
      </thead>

      <tbody>
        <ng-container *ngIf="filterParameters.length === 0; else processesAfterFilter">
          <tr *ngFor="let process of processTable.data">
            <td scope="row">
              <a *ngIf="process.candidate" class="nameStyle" (click)="emitCandidateId(process.candidate.id)">
                {{ process.candidate.name }} {{ process.candidate.lastName }}
              </a>
            </td>
            <td scope="row">
              {{ process.candidate.profile.name }}
            </td>
            <td scope="row">
              {{ process.candidate.community.name }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getStatus(process.status) }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getCurrentStage(process.currentStage) }}
            </td>
            <td scope="row">
              <a *ngIf="process.candidate.user" class="nameStyle" (click)="emitUserId(process.candidate.user.id)">
                {{ process.candidate.user.firstName }}
                {{ process.candidate.user.lastName }}
              </a>
            </td>
            <td >
              <i nzTooltipTitle="Edit" (click)="emitEdit(process.id)" style="cursor: pointer;" nz-tooltip nz-icon nzType="edit"
                theme="outline"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTooltipTitle="Delete" (click)="emitDelete(process.id)" style="cursor: pointer;" nz-tooltip nz-icon
                nzType="delete" theme="outline"></i>
              <nz-divider nzType="vertical" *ngIf="process && (process.status != 2 && process.status != 3  )">
              </nz-divider>
              <i nzTooltipTitle="Approve Process" style="cursor: pointer;" nz-tooltip
                *ngIf="process && (process.status != 2 && process.status != 3  )" nz-icon nzType="check-circle"
                nzTheme="outline" (click)="emitApproval(process.id)"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTooltipTitle="Reject process" nzTooltipContent="topLeft" nz-tooltip style="cursor: pointer;"
                *ngIf="process && process.status != 4" nz-icon nzType="close" nzTheme="outline"
                (click)="emitReject(process.id)"></i>
            </td>

          </tr>



        </ng-container>
        <ng-template #processesAfterFilter>
          <tr *ngFor="let process of listOfDisplayDataAfterFilter[listOfDisplayDataAfterFilter.length - 1]">
            <td scope="row">
              <a *ngIf="process.candidate" class="nameStyle" (click)="emitCandidateId(process.candidate.id)">
                {{ process.candidate.name }} {{ process.candidate.lastName }}
              </a>
            </td>
            <td scope="row">
              {{ process.candidate.profile.name }}
            </td>
            <td scope="row">
              {{ process.candidate.community.name }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getStatus(process.status) }}
            </td>
            <td scope="row">
              <nz-badge style="margin-right: 3%; margin-top: -2%;"></nz-badge>
              {{ getCurrentStage(process.currentStage) }}
            </td>
            <td scope="row">
              <a *ngIf="process.candidate.user" class="nameStyle" (click)="emitUserId(process.candidate.user.id)">
                {{ process.candidate.user.firstName }}
                {{ process.candidate.user.lastName }}
              </a>
            </td>
            <td>
              <i nzTitle="Edit" (click)="emitEdit(process.id)" style="cursor: pointer;" nz-tooltip nz-icon nzType="edit"
                theme="outline"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTitle="Delete" (click)="emitDelete(process.id)" style="cursor: pointer;" nz-tooltip nz-icon
                nzType="delete" theme="outline"></i>
              <nz-divider nzType="vertical" *ngIf="process && (process.status != 2 && process.status != 3  )">
              </nz-divider>
              <i nzTitle="Approve Process" style="cursor: pointer;" nz-tooltip
                *ngIf="process && (process.status != 2 && process.status != 3  )" nz-icon nzType="check-circle"
                nzTheme="outline" (click)="emitApproval(process.id)"></i>
              <nz-divider nzType="vertical"></nz-divider>
              <i nzTitle="Reject process" nzTooltipContent="topLeft" nz-tooltip style="cursor: pointer;"
                *ngIf="process && process.status != 4" nz-icon nzType="close" nzTheme="outline"
                (click)="emitReject(process.id)"></i>
            </td>

          </tr>



        </ng-template>
      </tbody>
    </nz-table>
  </div>
</div>